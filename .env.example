# ===================================
# LOCAL DEVELOPMENT ENVIRONMENT
# ===================================
# Copy this file to .env and update with your local values

# Database (Local PostgreSQL)
DATABASE_URL=postgresql://localhost/ai_visibility_local

# Server
PORT=3000
NODE_ENV=development

# JWT Authentication
JWT_SECRET=your-local-jwt-secret-change-me

# Stripe (TEST MODE - Safe for local development)
STRIPE_PUBLISHABLE_KEY=pk_test_your_test_key_here
STRIPE_SECRET_KEY=sk_test_your_test_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_test_webhook_secret_here
STRIPE_PRICE_DIY=price_test_diy_monthly
STRIPE_PRICE_PRO=price_test_pro_monthly
STRIPE_PRICE_ENTERPRISE=price_test_enterprise_monthly
STRIPE_PRICE_AGENCY=price_test_agency_monthly

# AI Citation Network Stripe Prices (one-time payments)
STRIPE_PRICE_SPRINT_249=price_test_citation_starter
STRIPE_PRICE_PACK_99=price_test_citation_pack

# OpenAI API
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic API (for Claude)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# Email (Optional for local testing - use Mailtrap or similar)
EMAIL_HOST=smtp.mailtrap.io
EMAIL_PORT=2525
EMAIL_USER=your-mailtrap-username
EMAIL_PASS=your-mailtrap-password
EMAIL_FROM=noreply@localhost

# Frontend URL (for CORS and email links)
FRONTEND_URL=http://localhost:3000

# Phase 2A: Organization Context
ORG_CONTEXT_ENABLED=false    # Set true to enable org context in responses
ORG_CONTEXT_DEBUG=false      # Set true to log middleware execution (temporary)

# Phase 2B: Organization Scoping
ORG_SCOPING_ENABLED=false    # Set true to enforce org-scoped data access

# Phase 2C: Usage Dual-Write
USAGE_V2_DUAL_WRITE_ENABLED=false  # Set true to write usage events to usage_events table

# Phase 2D: Entitlements V2 Read
USAGE_V2_READ_ENABLED=false        # Set true to read quotas from v2 usage_events table
# IMPORTANT: v2 read requires dual-write ON to prevent stale enforcement.
# If READ=true but DUAL_WRITE=false, the system falls back to legacy mode.

# ===================================
# NOTES FOR LOCAL DEVELOPMENT
# ===================================
# 1. DATABASE_URL points to your LOCAL PostgreSQL database
# 2. Use Stripe TEST keys (pk_test_... and sk_test_...)
# 3. All test payments and webhooks won't affect production
# 4. Email can use Mailtrap.io for testing (free tier available)
