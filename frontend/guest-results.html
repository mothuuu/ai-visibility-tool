<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your AI Visibility Score - Free Analysis Results</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #00B9DA 0%, #7D41A5 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* Navigation */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .logo {
            font-size: 24px;
            font-weight: 800;
            background: linear-gradient(135deg, #00B9DA 0%, #f31c7e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-buttons {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 10px 24px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            border: none;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .btn-signin {
            background: white;
            color: #00B9DA;
            border: 2px solid #00B9DA;
        }

        .btn-signin:hover {
            background: #00B9DA;
            color: white;
        }

        .btn-signup {
            background: linear-gradient(135deg, #7D41A5 0%, #f31c7e 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(125, 65, 165, 0.3);
        }

        .btn-signup:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(125, 65, 165, 0.4);
        }

        /* Score Card */
        .score-card {
            background: white;
            border-radius: 20px;
            padding: 50px 40px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
        }

        .score-title {
            font-size: 28px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 30px;
        }

        .score-display {
            position: relative;
            margin: 30px auto;
            width: 200px;
            height: 200px;
        }

        .score-circle {
            width: 100%;
            height: 100%;
        }

        .progress-ring-circle {
            transition: stroke-dashoffset 0.5s;
            transform-origin: 50% 50%;
        }

        .score-number {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 64px;
            font-weight: 800;
            background: linear-gradient(135deg, #00B9DA 0%, #f31c7e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .score-max {
            font-size: 20px;
            color: #cbd5e0;
            margin-top: 10px;
        }

        .score-url {
            font-size: 16px;
            color: #718096;
            margin-top: 15px;
            font-weight: 500;
        }

        .score-grade {
            display: inline-block;
            padding: 10px 24px;
            background: linear-gradient(135deg, #00B9DA 0%, #f31c7e 100%);
            color: white;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 700;
            margin-top: 20px;
        }

        /* Category Breakdown */
        .category-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
        }

        .section-title {
            font-size: 24px;
            font-weight: 800;
            color: #2d3748;
            margin-bottom: 30px;
            text-align: center;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .category-card {
            background: #f7fafc;
            padding: 25px;
            border-radius: 12px;
            border-left: 4px solid #00B9DA;
            transition: all 0.3s;
        }

        .category-card:hover {
            transform: translateX(5px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.08);
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .category-icon-name {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .category-icon {
            font-size: 28px;
        }

        .category-name {
            font-size: 16px;
            font-weight: 700;
            color: #2d3748;
        }

        .category-score {
            font-size: 32px;
            font-weight: 800;
            background: linear-gradient(135deg, #00B9DA 0%, #f31c7e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .category-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
        }

        .category-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #00B9DA 0%, #4DACA6 100%);
            border-radius: 10px;
            transition: width 1s ease-out;
        }

        /* Unlock CTA Section */
        .unlock-section {
            background: linear-gradient(135deg, #7D41A5 0%, #f31c7e 100%);
            border-radius: 20px;
            padding: 60px 50px;
            text-align: center;
            color: white;
            box-shadow: 0 10px 40px rgba(125, 65, 165, 0.3);
            position: relative;
            overflow: hidden;
        }

        .unlock-section::before {
            content: '🔒';
            position: absolute;
            top: 30px;
            font-size: 80px;
            opacity: 0.1;
        }

        .unlock-title {
            font-size: 36px;
            font-weight: 800;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .unlock-subtitle {
            font-size: 20px;
            margin-bottom: 40px;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
        }

        .benefit-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s;
        }

        .benefit-card:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
        }

        .benefit-icon {
            font-size: 36px;
            margin-bottom: 15px;
        }

        .benefit-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .benefit-desc {
            font-size: 14px;
            opacity: 0.9;
            line-height: 1.5;
        }

        .cta-button {
            padding: 20px 50px;
            background: white;
            color: #7D41A5;
            border: none;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
            position: relative;
            z-index: 1;
            text-decoration: none;
            display: inline-block;
        }

        .cta-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 30px rgba(0,0,0,0.3);
        }

        .signin-link {
            margin-top: 20px;
            color: white;
            font-size: 14px;
            position: relative;
            z-index: 1;
        }

        .signin-link a {
            color: white;
            font-weight: 700;
            text-decoration: underline;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 20px;
            color: white;
            font-size: 14px;
        }

        .footer-text {
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .footer-text a {
            color: white;
            text-decoration: underline;
        }

        .footer-copyright {
            opacity: 0.7;
        }

        /* Responsive */
        @media (max-width: 968px) {
            .category-grid {
                grid-template-columns: 1fr;
            }

            .benefits-grid {
                grid-template-columns: 1fr;
            }

            .score-title {
                font-size: 24px;
            }

            .unlock-title {
                font-size: 28px;
            }

            .navbar {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="logo">AI Visibility Score</div>
        <div class="nav-buttons">
            <a href="auth.html?mode=login" class="btn btn-signin">Sign In</a>
            <a href="auth.html?mode=signup" class="btn btn-signup">Sign Up Free</a>
        </div>
    </nav>

    <!-- Score Card -->
    <div class="score-card" id="scoreCard">
        <h1 class="score-title">Your AI Visibility Score</h1>

        <div class="score-display">
            <svg class="score-circle" width="200" height="200">
                <circle class="progress-ring-circle" stroke="#e2e8f0" stroke-width="16" fill="transparent" r="84" cx="100" cy="100"/>
                <circle id="progressCircle" class="progress-ring-circle" stroke="url(#gradient)" stroke-width="16" fill="transparent" r="84" cx="100" cy="100"
                    style="stroke-dasharray: 528; stroke-dashoffset: 528; stroke-linecap: round;"/>
                <defs>
                    <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#00B9DA;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#f31c7e;stop-opacity:1" />
                    </linearGradient>
                </defs>
            </svg>
            <div class="score-number" id="scoreNumber">0</div>
        </div>

        <div class="score-max">out of 1000</div>
        <div class="score-grade" id="scoreGrade">Grade: -</div>
        <div class="score-url" id="scoreUrl">-</div>
    </div>

    <!-- Category Breakdown -->
    <div class="category-section">
        <h2 class="section-title">Category Breakdown</h2>
        <div class="category-grid" id="categoryGrid"></div>
    </div>

    <!-- Unlock CTA Section -->
    <div class="unlock-section">
        <h2 class="unlock-title">Sign Up to Unlock Your Top 3 Recommendations</h2>
        <p class="unlock-subtitle">Discover exactly what to fix and how to improve your ranking in AI search engines.</p>

        <div class="benefits-grid">
            <div class="benefit-card">
                <div class="benefit-icon">✓</div>
                <div class="benefit-title">Top 3 Priorities</div>
                <div class="benefit-desc">Get your highest-impact recommendations first</div>
            </div>

            <div class="benefit-card">
                <div class="benefit-icon">✓</div>
                <div class="benefit-title">Action Steps</div>
                <div class="benefit-desc">Detailed guides on how to implement each fix</div>
            </div>

            <div class="benefit-card">
                <div class="benefit-icon">✓</div>
                <div class="benefit-title">Track Progress</div>
                <div class="benefit-desc">Save your scans and monitor improvements</div>
            </div>
        </div>

        <a href="auth.html?mode=signup" class="cta-button">Sign Up Free - No Credit Card Required →</a>

        <div class="signin-link">
            Already have an account? <a href="auth.html?mode=login">Sign In</a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-text">Powered by Xeo AI Hub & <a href="https://xeo.marketing/" target="_blank" rel="noopener noreferrer">Xeo Marketing</a></div>
        <div class="footer-copyright">© 2025 AI Visibility Score. All rights reserved.</div>
    </footer>

    <script>
        // Load guest scan results from sessionStorage
        const guestScanData = JSON.parse(sessionStorage.getItem('guestScan'));

        if (!guestScanData) {
            window.location.href = 'index.html';
        } else {
            displayGuestResults(guestScanData);
        }

        function getGrade(score) {
            if (score >= 900) return 'A+';
            if (score >= 850) return 'A';
            if (score >= 800) return 'A-';
            if (score >= 750) return 'B+';
            if (score >= 700) return 'B';
            if (score >= 650) return 'B-';
            if (score >= 600) return 'C+';
            if (score >= 550) return 'C';
            if (score >= 500) return 'C-';
            if (score >= 450) return 'D+';
            if (score >= 400) return 'D';
            return 'F';
        }

        function displayGuestResults(data) {
            const totalScore = data.total_score || 0;
            const displayScore = Math.round(totalScore * 10); // Convert to 0-1000

            // Update score display
            document.getElementById('scoreNumber').textContent = displayScore;
            document.getElementById('scoreGrade').textContent = 'Grade: ' + getGrade(displayScore);
            document.getElementById('scoreUrl').textContent = data.url || '';

            // Animate circular progress
            const circle = document.getElementById('progressCircle');
            const circumference = 2 * Math.PI * 84; // 2πr
            const offset = circumference - (displayScore / 1000) * circumference;

            setTimeout(() => {
                circle.style.strokeDashoffset = offset;
            }, 100);

            // Display categories
            if (data.categories) {
                displayCategories(data.categories);
            }
        }

        function displayCategories(categories) {
            const grid = document.getElementById('categoryGrid');

            const categoryNames = {
                aiReadability: 'AI Readability',
                aiSearchReadiness: 'AI Search Readiness',
                contentFreshness: 'Content Freshness',
                contentStructure: 'Content Structure',
                speedUX: 'Speed & UX',
                technicalSetup: 'Technical Setup',
                trustAuthority: 'Trust & Authority',
                voiceOptimization: 'Voice Optimization'
            };

            const categoryIcons = {
                aiReadability: '📖',
                aiSearchReadiness: '🔍',
                contentFreshness: '🎯',
                contentStructure: '📄',
                speedUX: '⚡',
                technicalSetup: '⚙️',
                trustAuthority: '⭐',
                voiceOptimization: '👥'
            };

            Object.entries(categories).forEach(([key, score]) => {
                const displayScore = Math.round(score * 10);
                const name = categoryNames[key] || key;
                const icon = categoryIcons[key] || '📊';
                const percentage = score; // score is already 0-100

                const card = document.createElement('div');
                card.className = 'category-card';
                card.innerHTML = `
                    <div class="category-header">
                        <div class="category-icon-name">
                            <span class="category-icon">${icon}</span>
                            <span class="category-name">${name}</span>
                        </div>
                        <span class="category-score">${displayScore}</span>
                    </div>
                    <div class="category-bar">
                        <div class="category-bar-fill" style="width: 0%;" data-width="${percentage}%"></div>
                    </div>
                `;
                grid.appendChild(card);
            });

            // Animate progress bars on load
            setTimeout(() => {
                const bars = document.querySelectorAll('.category-bar-fill');
                bars.forEach(bar => {
                    const width = bar.getAttribute('data-width');
                    bar.style.width = width;
                });
            }, 100);
        }
    </script>

    <!-- AI Support Chat Widget -->
    <script src="support-chat.js"></script>
</body>
</html>
